<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flask Google Search API DokÃ¼mantasyonu</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      color: #222;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 950px;
      margin: 0 auto;
      background: #fff;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h1 {
      color: #007bff;
      margin-bottom: 10px;
    }
    h2 {
      color: #333;
      margin-top: 25px;
    }
    pre {
      background: #272822;
      color: #f8f8f2;
      padding: 12px;
      border-radius: 5px;
      overflow-x: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }
    th {
      background: #007bff;
      color: white;
    }
    input, select, button {
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
      width: 100%;
    }
    button {
      background: #007bff;
      color: #fff;
      cursor: pointer;
      margin-top: 10px;
    }
    button:hover {
      background: #0056b3;
    }
    #result {
      margin-top: 20px;
      white-space: pre-wrap;
      background: #f7f7f7;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
      font-family: monospace;
      max-height: 400px;
      overflow-y: auto;
    }
    .error {
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” Flask Google Search API</h1>
    <p>Bu API, <b>googlesearch-python</b> kÃ¼tÃ¼phanesini kullanarak Google aramasÄ± yapar ve sonuÃ§larÄ± JSON formatÄ±nda dÃ¶ndÃ¼rÃ¼r.</p>

    <h2>ğŸŒ API Bilgileri</h2>
    <p><b>Base URL:</b> <code id="base-url">https://flask-search-api-3fox.onrender.com</code></p>
    <p><b>Endpoint:</b> <code>/search</code></p>
    <p><b>YÃ¶ntem:</b> GET</p>
    <p><b>YanÄ±t Tipi:</b> JSON</p>
    <p><b>CORS:</b> âœ” Destekleniyor</p>

    <h2>ğŸ“Œ Parametreler</h2>
    <table>
      <tr>
        <th>Parametre</th>
        <th>AÃ§Ä±klama</th>
        <th>Ã–rnek DeÄŸer</th>
        <th>Zorunlu</th>
      </tr>
      <tr>
        <td>query</td>
        <td>Aranacak kelime veya cÃ¼mle</td>
        <td>openai</td>
        <td>âœ”</td>
      </tr>
      <tr>
        <td>dil</td>
        <td>Arama dili</td>
        <td>tr</td>
        <td>âœ”</td>
      </tr>
      <tr>
        <td>bolge</td>
        <td>Arama bÃ¶lgesi (Ã¶r. tr, us, de)</td>
        <td>tr</td>
        <td>âœ”</td>
      </tr>
      <tr>
        <td>device</td>
        <td>Cihaz tÃ¼rÃ¼: <code>desktop</code> veya <code>mobile</code></td>
        <td>desktop</td>
        <td>âŒ</td>
      </tr>
      <tr>
        <td>site_filter</td>
        <td>Belirli bir domain ile filtreleme</td>
        <td>openai.com</td>
        <td>âŒ</td>
      </tr>
    </table>

    <h2>âš¡ Ã–rnek Sorgu</h2>
    <pre>
GET /search?query=openai&dil=tr&bolge=tr&device=desktop&site_filter=openai.com
    </pre>

    <h2>âœ… Ã–rnek YanÄ±t</h2>
    <pre>
[
  {
    "sira": 1,
    "url": "https://openai.com/",
    "domain": "openai.com",
    "baslik": "OpenAI",
    "aciklama": "OpenAI, yapay zeka araÅŸtÄ±rmalarÄ± yapan bir ÅŸirkettir.",
    "hedef_site_mi": true
  }
]
    </pre>

    <h2>ğŸ§ª CanlÄ± API Testi</h2>
    <form onsubmit="return false;">
      <label>Sorgu (query) *</label>
      <input id="query" type="text" placeholder="Ã¶rn: openai" required />

      <label>Dil (dil) *</label>
      <input id="dil" type="text" placeholder="Ã¶rn: tr" required />

      <label>BÃ¶lge (bolge) *</label>
      <input id="bolge" type="text" placeholder="Ã¶rn: tr" required />

      <label>Cihaz (device)</label>
      <select id="device">
        <option value="">SeÃ§iniz</option>
        <option value="desktop">Desktop</option>
        <option value="mobile">Mobile</option>
      </select>

      <label>Site Filtresi (site_filter)</label>
      <input id="site_filter" type="text" placeholder="Ã¶rn: openai.com" />

      <button onclick="testAPI()">API'yi Test Et</button>
    </form>

    <div id="result">HenÃ¼z bir sorgu yapÄ±lmadÄ±.</div>
  </div>

  <script>
    async function testAPI() {
      const query = document.getElementById("query").value;
      const dil = document.getElementById("dil").value;
      const bolge = document.getElementById("bolge").value;
      const device = document.getElementById("device").value;
      const siteFilter = document.getElementById("site_filter").value;
      const baseUrl = document.getElementById("base-url").innerText;

      if (!query || !dil || !bolge) {
        alert("LÃ¼tfen zorunlu alanlarÄ± doldurun!");
        return;
      }

      let url = `${baseUrl}/search?query=${encodeURIComponent(query)}&dil=${encodeURIComponent(dil)}&bolge=${encodeURIComponent(bolge)}&device=${encodeURIComponent(device)}&site_filter=${encodeURIComponent(siteFilter)}`;

      document.getElementById("result").innerText = "â³ API'den yanÄ±t bekleniyor...";

      try {
        const response = await fetch(url, {
          method: "GET",
          headers: { "Accept": "application/json" }
        });

        if (!response.ok) {
          throw new Error(`HTTP ${response.status} - ${response.statusText}`);
        }

        const data = await response.json();
        document.getElementById("result").innerText = JSON.stringify(data, null, 2);
      } catch (err) {
        document.getElementById("result").innerHTML = `<span class="error">âŒ API isteÄŸi baÅŸarÄ±sÄ±z:</span> ${err}`;
      }
    }
  </script>
</body>
</html>
